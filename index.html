<!DOCTYPE html>
<html lang="en">
    
    <link rel="stylesheet" href="styles.css">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <title>Document</title>
</head>
<body id="body" >
<script type="module">
import * as state from "./State.js" 
import * as t from "./TableGen.js" 
let users=[{name:"alex",age:21,town:"kuwait"},{name:"dunya",age:23,town:"dunya"}]
state.addStateObject("users", users)

t.createTableAuto("body",state.getState().users)

setTimeout(() => {
    callasyncFunction("kim")
    
}, 3000);

// setTimeout(() => {
//     callasyncFunction("ted")
    
// }, 4000);

// setTimeout(() => {
//     callasyncFunction("hp")
    
// }, 5000);
async function callasyncFunction(user){
    await state.removeStateObject('users')
   
await state.addStateObject("users",[{name:user,age:21,town:"kuwait"}])

// recrete table
t.reCreateTable("body","table",state.getState().users)
console.log(state.getState())

}

</script>
</body>
</html>